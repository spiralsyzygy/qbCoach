# Session Log — 20251214_044115_live.jsonl

## Issue: draw rejected a legal card name (forced set_hand override)

**Transcript excerpt**
```
> play Archdragon bot 1
Move applied. === ENEMY TURN BEGINS ===
> enemy chocobo & moogle mid 5
Enemy play registered. === YOUR TURN BEGINS (turn 3) ===
> draw security officer
Draw expects exactly one card. Use set_hand to overwrite.
```

**Observed**
- At YOU_TURN_AWAITING_DRAW, entering a single valid card token (`security officer`) triggered the draw guard and refused to append the card.
- User had to fall back to `set_hand`, risking desync and incorrect draw logging.

**Expected**
- `draw <id|name>` should accept a single multiword card name (case-insensitive), resolve it (stateful resolver), and append to hand; log snapshot with `last_event="you_draw"`.

**Impact**
- Blocks normal draw flow; forces manual overrides and potentially incorrect session logs/replay.

**Next steps (proposed)**
1) Reproduce in CLI at AWAITING_DRAW with `draw "Security Officer"`; confirm failure path.
2) Inspect `qb_engine/cli/qb_live_cli.py` draw parsing: ensure multiword single-token names enter resolution mode and bypass the “expects exactly one card” guard once resolved.
3) Add regression test in `qb_engine/tests/test_cli_resolution.py` covering draw with a multiword name during draw phase.
4) Verify snapshots log `last_event="you_draw"` after the fix.
